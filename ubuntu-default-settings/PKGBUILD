# Maintainer: Xiao-Long Chen <chenxiaolong@cxl.epac.to>

pkgname=ubuntu-default-settings
pkgver=12.10.8
pkgrel=1
pkgdesc="Ubuntu's default settings"
arch=('any')
url="https://launchpad.net/ubuntu/+source/ubuntu-settings"
license=('GPL')
groups=('unity-extra')
depends=('ttf-ubuntu-font-family' 'ubuntu-sounds' 'ubuntu-themes' 'ubuntu-wallpapers' 'xcursor-vanilla-dmz')
source=("https://launchpad.net/ubuntu/+archive/primary/+files/ubuntu-settings_${pkgver}.tar.gz"
        '0001_Simplified.patch')
sha512sums=('99b93a5d94dc9f7cbf3fdcc263b94085fd7791517a68fc9ed10105d9a6512dc3bc026f8db7738f3019cef273223a3af8a285fe913f72e7c8b72724ff6eff127f'
            'ca70ad48b9ec39efaf25d167380f5d744ea5660ccccc63c589a3a1fab7ae622b9a2effa169ee22537f3f070f0d2381c2c285071f0677b36c4a301654b580df29')

prepare() {
  cd "${srcdir}/ubuntu-settings-${pkgver}/debian/"
  patch -p1 -i "${srcdir}/0001_Simplified.patch"
}

package() {
  cd "${srcdir}/ubuntu-settings-${pkgver}/debian/"
  install -dm755 "${pkgdir}/usr/share/glib-2.0/schemas/"
  install -m644 ubuntu-settings.gsettings-override \
    "${pkgdir}/usr/share/glib-2.0/schemas/10_${pkgname}.gschema.override"
}
